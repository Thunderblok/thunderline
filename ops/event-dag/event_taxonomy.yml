version: 1
domains: [link, crown, bolt, flow, gate, grid, block, stone, foundry]
partitions:
  ui.command.*: { key: pac_id, shards: 16 }
  ml.*:         { key: trial_id, shards: 32 }
  gate.*:       { key: realm_id, shards: 8 }

events:
  - name: ui.command.message_send
    domain: link
    version: 1
    payload.required: [message_id, channel_id, actor_id, text]
  - name: ai.plan.created
    domain: crown
    version: 1
    payload.required: [plan_id, steps]
  - name: ml.trial.started
    domain: bolt
    version: 1
    payload.required: [trial_id, run_id, params, dataset_ref]
  - name: ml.run.metrics
    domain: bolt
    version: 1
    payload.required: [run_id, step, metrics]
  - name: ml.run.completed
    domain: bolt
    version: 1
    payload.required: [run_id, best_metric, artifact_id?]
  - name: ml.artifact.created
    domain: bolt
    version: 1
    payload.required: [artifact_id, run_id, uri, kind]
  - name: stone.proof.emitted
    domain: stone
    version: 1
    payload.required: [subject, decision, rationale]
